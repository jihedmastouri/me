---
import { Image } from 'astro:assets';

import BaseHead from '@components/BaseHead.astro';
import Header from '@components/Header.astro';
import Footer from '@components/Footer.astro';

import { SITE_TITLE } from 'src/consts';

let imgs = [];

try {
  imgs = await Astro.glob('../assets/photography/*').then(files => {
    return files.map(file => file.default);
  });
} catch (e) {
  console.log(e);
}

---

<!DOCTYPE html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description="Favorite pictures I took through the years" />
	</head>
	<body>
    <div class="md:grid md:grid-cols-7 h-screen">
		  <side
        class="md:col-span-2 box-border relative max-sm:fixed max-sm:h-screen"
        transition:animate="slide"
      >
        <div class="flex flex-col justify-center items-center p-2 h-[90%] mx-5
            max-sm:bg-slate-100 max-sm:dark:bg-gray-800 max-sm:bg-opacity-80
            max-sm:h-fit max-sm:mt-[50%]
            max-sm:rounded-lg max-sm:shadow-lg max-sm:dark:shadow-none
        ">


          <h1 class="text-xl sm:text-4xl">Photography</h1>
          <q class="max-sm:text-xs"> Everyone should have 3 hobbies in life: one to make you money, one to keep you in shape, and one to keep you creative. </q>
          <Header noTitle/>
          <Footer />
        </div>
      </side>
      <main class="md:col-span-5 sm:mx-auto flex justify-end flex-wrap overflow-y-scroll">
        {
          imgs.map(image => (
              <Image
                class="object-cover sm:w-1/3 h-[300px] m-0 p-0"
                src={image}
                alt=""
                loading="lazy"
              />
          ))
        }
      </main>
    </div>
	</body>
</html>
